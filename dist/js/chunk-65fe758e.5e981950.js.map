{"version":3,"sources":["webpack:///./src/pages/materials/index.vue?9277","webpack:///src/pages/materials/index.vue","webpack:///./src/pages/materials/index.vue?ba5d","webpack:///./src/pages/materials/index.vue","webpack:///./src/pages/materials/index.vue?ebaf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","model","value","callback","$$v","materialsName","expression","_l","item","key","_v","_s","label","on","sync","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,SAAS,CAACI,YAAY,CAAC,MAAQ,SAASC,MAAM,CAACC,MAAOV,EAAiB,cAAEW,SAAS,SAAUC,GAAMZ,EAAIa,cAAcD,GAAKE,WAAW,kBAAkBd,EAAIe,GAAIf,EAAa,WAAE,SAASgB,GAAM,OAAOZ,EAAG,SAAS,CAACa,IAAID,EAAKN,MAAMH,MAAM,CAAC,MAAQS,EAAKN,QAAQ,CAACV,EAAIkB,GAAGlB,EAAImB,GAAGH,EAAKI,aAAY,GAAGhB,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,WAAWc,GAAG,CAAC,MAAQrB,EAAIsB,OAAO,CAACtB,EAAIkB,GAAG,WAAW,IAAI,KAAKd,EAAG,WAAW,CAACA,EAAG,gBAAgB,IAAI,IACznBmB,EAAkB,G,0ECoBtB,GACE,KAAF,YACE,KAFF,WAGI,MAAJ,CACM,cAAN,GACM,UAAN,KAGE,QAAF,CACI,KADJ,WACM,IAAN,OACM,KAAN,YACQ,OAAR,YACU,OAAV,SACA,UACY,MAAZ,sBACY,MAAZ,CACc,KAAd,cACc,KAAd,MAGA,oBAIM,EAAN,6CACQ,EAAR,aACQ,EAAR,iBACU,MAAV,KACU,KAAV,OACU,SAAV,EACU,QAJV,WAKY,OAAZ,0BAME,MAAF,CACI,cAAJ,YACM,KAAN,iBACQ,KAAR,SACQ,MAAR,CACU,cAAV,OAKE,QA/CF,WA+CI,IAAJ,OACI,KAAJ,kDACM,IAAN,KACA,oDACM,EAAN,qBACA,UACU,EAAV,MACY,MAAZ,QACY,MAAZ,YAIM,EAAN,YACM,EAAN,8BCjF8V,I,wBCQ1VC,EAAY,eACd,EACAzB,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,yBAAgoB,EAAG,G","file":"js/chunk-65fe758e.5e981950.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"materials\"},[_c('DashboardHeader',{attrs:{\"title\":\"物料\"}},[_c('div',{staticClass:\"h-right\"},[_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.materialsName),callback:function ($$v) {_vm.materialsName=$$v},expression:\"materialsName\"}},_vm._l((_vm.materials),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sync}},[_vm._v(\"同步物料\")])],1)],1)]),_c('PageWrap',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"materials\">\n        <DashboardHeader title=\"物料\">\n            <div class=\"h-right\">\n                <Select v-model=\"materialsName\" style=\"width:200px\">\n                    <Option v-for=\"item in materials\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                </Select>\n                <div>\n                    <Button type=\"primary\" @click=\"sync\">同步物料</Button>\n                </div>\n            </div>\n        </DashboardHeader>\n        <PageWrap>\n            <router-view></router-view>\n        </PageWrap>\n    </div>\n</template>\n\n<script>\nimport Api from '@/api';\n\nexport default {\n    name: 'Materials',\n    data () {\n        return {\n            materialsName: '',\n            materials: []\n        };\n    },\n    methods: {\n        sync () {\n            this.$Spin.show({\n                render: (h) => {\n                    return h('div', [\n                        h('Icon', {\n                            'class': 'demo-spin-icon-load',\n                            props: {\n                                type: 'ios-loading',\n                                size: 18\n                            }\n                        }),\n                        h('div', '同步中')\n                    ])\n                }\n            });\n            Api.get('/materials/sync').then(() => {\n                this.$Spin.hide();\n                this.$Notice.success({\n                    title: '提示',\n                    desc: '同步成功',\n                    duration: 1,\n                    onClose () {\n                        window.location.reload();\n                    }\n                });\n            });\n        }\n    },\n    watch: {\n        materialsName: function(val) {\n            this.$router.replace({\n                name: 'blocks',\n                query: {\n                    materialsName: val\n                }\n            });\n        }\n    },\n    mounted () {\n        this.$store.dispatch('getMaterials').then(res => {\n            let arr = []\n            const materials = [].concat(res.recommendMaterials, res.customMaterials);\n            materials.forEach((item) => {\n                if (item.active) {\n                    arr.push({\n                        label: item.alias,\n                        value: item.name\n                    });\n                }\n            });\n            this.materials = arr;\n            this.materialsName = arr[0].value;\n        });\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-row {\n    margin-bottom: 24px;\n}\n.h-right {\n    display: flex;\n    margin-left: 40px;\n    justify-content: space-between;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57118390&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57118390&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57118390\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--15-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=57118390&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--15-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=57118390&lang=less&scoped=true&\""],"sourceRoot":""}