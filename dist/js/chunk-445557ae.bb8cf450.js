(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-445557ae"],{"0b43":function(t,e,a){},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"5b0e":function(t,e,a){"use strict";var s=a("0b43"),n=a.n(s);n.a},"75c2":function(t,e,a){},"841c":function(t,e,a){"use strict";var s=a("d784"),n=a("825a"),i=a("1d80"),r=a("129f"),c=a("14c3");s("search",1,(function(t,e,a){return[function(e){var a=i(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a):new RegExp(e)[t](String(a))},function(t){var s=a(e,t,this);if(s.done)return s.value;var i=n(t),o=String(this),l=i.lastIndex;r(l,0)||(i.lastIndex=0);var u=c(i,o);return r(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},"86ef":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("DashboardHeader",{attrs:{title:"物料"}},[a("div",{staticClass:"h-right"},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"输入关键词搜索"},on:{"on-enter":t.searchHandler},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}},[a("Icon",{attrs:{slot:"suffix",type:"ios-search"},slot:"suffix"})],1),a("Button",{staticClass:"ml20",attrs:{type:"primary"},on:{click:t.sync}},[t._v("同步物料")])],1)]),a("PageWrap",[a("MyFilter",{on:{change:t.filterHandler},model:{value:t.search.tag,callback:function(e){t.$set(t.search,"tag",e)},expression:"search.tag"}}),a("div",{staticClass:"blocks"},[t.blocks.length?a("Row",{attrs:{gutter:24}},t._l(t.blocks,(function(e,s){return a("Col",{key:s,attrs:{span:"6"}},[a("block-item",{attrs:{materialsName:t.materialsName,info:e}})],1)})),1):a("Empty")],1),a("Page",{staticClass:"pages",attrs:{"show-total":!0,current:t.search.page,total:t.total,"page-size":t.search.pageSize},on:{"on-change":t.pageChange}})],1)],1)},n=[],i=(a("b0c0"),a("ac1f"),a("841c"),a("365c")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-item"},[a("div",{staticClass:"img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.info.screenshot,expression:"info.screenshot"}],attrs:{title:"查看大图"},on:{click:t.previewImg}})]),a("div",{staticClass:"name"},[t._v(t._s(t.info.name))]),a("div",{staticClass:"desc"},[t._v(t._s(t.info.description))]),a("div",{staticClass:"options"},[a("a",{on:{click:function(e){return t.openSource(t.info.sourceCode)}}},[t._v("源码")]),t._v("/ "),t.info.previewUrl?a("a",{attrs:{href:t.info.previewUrl,target:"_blank"}},[t._v("Demo")]):t._e(),t._v("/ "),a("a",{on:{click:function(e){return t.download(t.info)}}},[t._v("下载")])])])},c=[],o=(a("d81d"),{name:"BlockItem",data:function(){return{colors:["primary","success","warning","error"]}},props:{info:{type:Object,default:function(){return{}}},materialsName:{type:String,required:!0}},methods:{previewImg:function(){var t=this,e=this.info.screenshot;this.$Modal.info({title:"大图预览",width:"80%",closable:!0,okText:"",render:function(a){var s=t.info.tags||[],n=s.map((function(e){return a("Tag",{props:{color:t.colors[Math.floor(4*Math.random())]}},e)}));return a("div",["标签：",n,a("div",{class:"preview-img"},[a("img",{attrs:{src:e}})])])}})},openSource:function(t){window.open(t)},download:function(t){var e=this;i["a"].get("/blocks/".concat(t.name),{params:{materialsName:this.materialsName,blockPath:t.downloadPath}}).then((function(t){e.$Notice.success({title:"提示",desc:"下载区块位于".concat(t.downloadPath,"，可在配置中修改下载路径")})}))}}}),l=o,u=(a("c2e6"),a("2877")),h=Object(u["a"])(l,r,c,!1,null,null,null),m=h.exports,f={name:"Blocks",data:function(){return{materialsName:this.$route.params.materialsName,blocks:[],search:{materialsName:this.$route.params.materialsName,name:"",category:"全部",page:1,pageSize:24},total:0}},methods:{filterHandler:function(t){this.initParams(this.$route),this.search.category=t,this.getList()},searchHandler:function(){this.search.page=1,this.search.category="全部",this.getList()},getList:function(){var t=this;i["a"].get("/blocks",{params:this.search}).then((function(e){t.blocks=e.list,t.total=e.total}))},initParams:function(t){this.materialsName=t.params.materialsName,this.search.name="",this.search.category="全部",this.search.materialsName=t.params.materialsName,this.search.page=1,this.total=0},pageChange:function(t){this.search.page=t,this.getList()},sync:function(){var t=this;i["a"].get("/materials/sync").then((function(){t.$Notice.success({title:"提示",desc:"同步成功",onClose:function(){}})}))}},components:{BlockItem:m},watch:{$route:function(t){this.initParams(t),this.getList()}},mounted:function(){this.getList()}},d=f,p=(a("5b0e"),Object(u["a"])(d,s,n,!1,null,"75b1c92c",null));e["default"]=p.exports},c2e6:function(t,e,a){"use strict";var s=a("75c2"),n=a.n(s);n.a},d81d:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").map,i=a("1dde"),r=a("ae40"),c=i("map"),o=r("map");s({target:"Array",proto:!0,forced:!c||!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-445557ae.bb8cf450.js.map