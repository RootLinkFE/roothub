(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-faf06b8e"],{"16b4":function(t,e,o){"use strict";var n=o("e0f1"),r=o.n(n);r.a},7788:function(t,e,o){},e0f1:function(t,e,o){},f5a7:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"projects"},[o("div",{staticClass:"top"},[o("Logo"),o("div",{staticClass:"btns"},[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.modal=!0}}},[t._v("导入项目")])],1)],1),o("div",{staticClass:"list"},[o("Row",{attrs:{gutter:36}},t._l(t.projects,(function(e,n){return o("Col",{key:n,attrs:{span:"6"}},[o("Item",{attrs:{data:e,index:n},on:{deleteProject:t.deleteProject}})],1)})),1)],1),o("Modal",{attrs:{"on-text":"确定",title:"导入项目"},on:{"on-ok":t.importProject},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[o("div",{staticClass:"modal-content"},[o("Finder",{model:{value:t.currentPath,callback:function(e){t.currentPath=e},expression:"currentPath"}})],1)])],1)},r=[],a=(o("ac1f"),o("1276"),o("365c")),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("MyCard",{staticStyle:{marginBottom:"24px"}},[o("div",{staticClass:"project-item"},[o("div",{staticClass:"content",on:{click:function(e){return t.setWorkingDirectory(t.data.path)}}},[o("div",{staticClass:"name"},[t.workingDirectory===t.data.path?o("b",[t._v("·")]):t._e(),t._v(t._s(t.data.name))]),o("div",{staticClass:"path"},[t._v(t._s(t.data.path))])]),o("div",{staticClass:"actions"},[o("Tooltip",{attrs:{content:"打开编辑器",placement:"top"}},[o("Icon",{attrs:{type:"md-code"},on:{click:function(e){return t.launchEditor(t.data.path)}}})],1),o("Tooltip",{attrs:{content:"打开文件夹",placement:"top"}},[o("Icon",{attrs:{type:"ios-folder"},on:{click:t.openDir}})],1),o("Tooltip",{attrs:{content:"删除",placement:"top"}},[o("Icon",{attrs:{type:"md-trash"},on:{click:t.deleteProject}})],1)],1)])])},i=[],s=(o("a9e3"),{name:"Item",props:{data:{type:Object,default:function(){}},index:Number},computed:{workingDirectory:function(){return this.$store.state.workingDirectory}},methods:{setWorkingDirectory:function(t){var e=this;a["a"].patch("/workingDirectory",{dir:t}).then((function(t){e.$store.commit("setWorkingDirectory",t),e.$router.push("/dashboard/overview")}))},deleteProject:function(){this.$emit("deleteProject",this.index)},openDir:function(){a["a"].get("/finder/open?dirPath=".concat(this.data.path))},launchEditor:function(t){a["a"].get("/files/launchEditor",{params:{file:t}})}}}),u=s,l=(o("16b4"),o("2877")),d=Object(l["a"])(u,c,i,!1,null,null,null),p=d.exports,h={name:"Projects",data:function(){return{modal:!1,currentPath:""}},computed:{projects:function(){return this.$store.state.projects}},components:{Item:p},methods:{importProject:function(){var t=this;a["a"].post("/myProjects",{name:this.currentPath.split("/").pop(),currentPath:this.currentPath}).then((function(e){t.$Notice.success({title:"标题",desc:"导入成功!",duration:1}),t.$store.commit("setWorkingDirectory",t.currentPath),t.$router.push("/dashboard/overview")}))},deleteProject:function(t){var e=this;a["a"].delete("/myProjects/".concat(t)).then((function(){e.$store.dispatch("getProjects")}))},getHomedir:function(){var t=this;return a["a"].get("/finder/homedir").then((function(e){t.currentPath=e}))}},mounted:function(){this.$store.dispatch("getProjects"),this.getHomedir()}},m=h,f=(o("fe3c"),Object(l["a"])(m,n,r,!1,null,"cc3a8600",null));e["default"]=f.exports},fe3c:function(t,e,o){"use strict";var n=o("7788"),r=o.n(n);r.a}}]);
//# sourceMappingURL=chunk-faf06b8e.87aaa97b.js.map