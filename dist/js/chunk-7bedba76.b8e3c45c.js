(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bedba76"],{"2a02":function(t,e,r){"use strict";var i=r("c11e"),a=r.n(i);a.a},"33b1":function(t,e,r){},"36ad":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-header"},[r("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._t("default")],2)},a=[],n={name:"PageHeader",props:{title:String}},s=n,c=(r("51b2"),r("2877")),o=Object(c["a"])(s,i,a,!1,null,null,null);e["a"]=o.exports},"4fb6":function(t,e,r){},"51b2":function(t,e,r){"use strict";var i=r("33b1"),a=r.n(i);a.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var i=r("1d80"),a=r("5899"),n="["+a+"]",s=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),o=function(t){return function(e){var r=String(i(e));return 1&t&&(r=r.replace(s,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:o(1),end:o(2),trim:o(3)}},"5fe2":function(t,e,r){"use strict";var i=r("4fb6"),a=r.n(i);a.a},7156:function(t,e,r){var i=r("861d"),a=r("d2bb");t.exports=function(t,e,r){var n,s;return a&&"function"==typeof(n=e.constructor)&&n!==r&&i(s=n.prototype)&&s!==r.prototype&&a(t,s),t}},8478:function(t,e,r){"use strict";var i=r("8bb5"),a=r.n(i);a.a},"8bb5":function(t,e,r){},a9e3:function(t,e,r){"use strict";var i=r("83ab"),a=r("da84"),n=r("94ca"),s=r("6eeb"),c=r("5135"),o=r("c6b6"),u=r("7156"),l=r("c04e"),p=r("d039"),h=r("7c73"),f=r("241c").f,v=r("06cf").f,d=r("9bf2").f,m=r("58a8").trim,g="Number",b=a[g],w=b.prototype,x=o(h(w))==g,k=function(t){var e,r,i,a,n,s,c,o,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+u}for(n=u.slice(2),s=n.length,c=0;c<s;c++)if(o=n.charCodeAt(c),o<48||o>a)return NaN;return parseInt(n,i)}return+u};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var j,P=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof P&&(x?p((function(){w.valueOf.call(r)})):o(r)!=g)?u(new b(k(e)),r,P):k(e)},L=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;L.length>y;y++)c(b,j=L[y])&&!c(P,j)&&d(P,j,v(b,j));P.prototype=w,w.constructor=P,s(a,g,P)}},c11e:function(t,e,r){},cf90:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"create"},[r("PageHeader",{attrs:{title:"项目管理器"}}),r("div",{staticClass:"tab"},[r("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{name:"project"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("i",{staticClass:"el-icon-s-order"}),t._v("项目")]),r("div",{staticClass:"tab-content"},[t.favorriteProjectList.length>0?r("h3",[t._v("收藏的项目")]):t._e(),r("ProjectList",{attrs:{projectList:t.favorriteProjectList},on:{favorite:t.favorite,deleteItem:t.deleteItem,editItem:t.editItem,openEditor:t.openEditor}}),t.notFavorriteProjectList.length>0?r("h3",[t._v("更多项目")]):t._e(),r("ProjectList",{attrs:{projectList:t.notFavorriteProjectList},on:{favorite:t.favorite,deleteItem:t.deleteItem,editItem:t.editItem,openEditor:t.openEditor}})],1)]),r("el-tab-pane",{attrs:{name:"import"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("i",{staticClass:"el-icon-upload2"}),t._v("导入")]),r("div",{staticClass:"tab-content"},[r("Import",{attrs:{isSwitchTab:t.isSwitchTab}})],1)])],1),r("el-dialog",{attrs:{title:"重命名",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{attrs:{"status-icon":"","label-width":"40px"}},[r("el-form-item",{attrs:{label:"名称",prop:"pass"}},[r("el-input",{attrs:{type:"text"},model:{value:t.floderName,callback:function(e){t.floderName=e},expression:"floderName"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.submitEdit}},[t._v("确 定")])],1)],1)],1)],1)},a=[],n=(r("4de4"),r("b0c0"),r("96cf"),r("1da1")),s=r("36ad"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list"},t._l(t.projectList,(function(e){return r("div",{key:e.id,staticClass:"list-item"},[r("div",{staticClass:"left-part"},[r("div",{staticClass:"favorite",on:{click:function(r){return t.favorite(e)}}},[r("i",{class:e.favorite?"el-icon-star-on":"el-icon-star-off"})]),r("div",{staticClass:"file"},[r("span",{staticClass:"file-name"},[t._v(t._s(e.name))]),r("span",{staticClass:"file-path"},[t._v(t._s(e.path))])])]),r("div",{staticClass:"right-part"},[r("el-row",[r("el-button",{attrs:{size:"medium"},on:{click:function(r){return t.openEditor(e)}}},[r("i",{staticClass:"el-icon-upload2",staticStyle:{"margin-right":"5px"}}),t._v("在编辑器中打开")]),r("el-button",{attrs:{size:"medium"},on:{click:function(r){return t.editItem(e)}}},[r("i",{staticClass:"el-icon-edit"})]),r("el-button",{attrs:{size:"medium"},on:{click:function(r){return t.deleteItem(e.id)}}},[r("i",{staticClass:"el-icon-close"})])],1)],1)])})),0)},o=[],u={name:"list",components:{},props:{projectList:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{favorite:function(t){this.$emit("favorite",t)},deleteItem:function(t){this.$emit("deleteItem",t)},editItem:function(t){this.$emit("editItem",t)},openEditor:function(t){this.$emit("openEditor",t)}}},l=u,p=(r("8478"),r("2877")),h=Object(p["a"])(l,c,o,!1,null,"02a414fb",null),f=h.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"import"},[r("Floder",{attrs:{fileList:t.fileList,path:t.path,favoritePathList:t.favoritePathList,isSwitchTab:t.isSwitchTab},on:{backUpperLevel:t.backUpperLevel,editItem:t.editItem,operateFavorite:t.operateFavorite,rootDir:t.rootDir,refresh:t.refresh,importProject:t.importProject,favoritePath:t.favoritePath,removeFavoritePath:t.removeFavoritePath,goThisPath:t.goThisPath,mkdir:t.mkdir,viewhide:t.viewhide}}),r("div",{staticClass:"table-of-contents"},t._l(t.fileList,(function(e,i){return r("section",{key:i,staticClass:"wrap"},[r("div",{on:{click:function(r){return t.getThisFileList(e)}}},[r("span",[r("i",{class:"dir"===e.type?"el-icon-folder":"el-icon-tickets"})]),r("span",[t._v(t._s(e.name))])]),r("span",{staticClass:"el-icon-close",on:{click:function(r){return t.deleteThis(e)}}})])})),0),r("el-dialog",{attrs:{title:"新建文件夹",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{attrs:{"status-icon":"","label-width":"40px"}},[r("el-form-item",{attrs:{label:"名称",prop:"pass"}},[r("el-input",{attrs:{type:"text"},model:{value:t.floderName,callback:function(e){t.floderName=e},expression:"floderName"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.submitEdit}},[t._v("确 定")])],1)],1)],1)},d=[],m=(r("99af"),r("a15b"),r("fb6a"),r("a9e3"),r("ac1f"),r("1276"),r("4bd6")),g={name:"Import",components:{Floder:m["a"]},props:{isSwitchTab:{type:Number,default:0}},data:function(){return{fileList:[],path:this.$store.state.project.cwd,favorite:!1,favoritePathList:[],dialogVisible:!1,floderName:""}},created:function(){this.getFloder(this.$store.state.project.cwd),this.queryFavoritePath()},methods:{getFloder:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=!(a.length>1&&void 0!==a[1])||a[1],t.prev=1,t.next=4,this.$api.create.list(e,r);case 4:if(i=t.sent,"ENOENT"!==i.code){t.next=8;break}return this.fileList=[],t.abrupt("return");case 8:this.fileList=i,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}(),backUpperLevel:function(){this.path=this.path.split("/").slice(0,-1).join("/"),this.getFloder(this.path)},getThisFileList:function(t){var e=t.name,r=t.type;"file"!==r?(this.path="".concat(this.path,"/").concat(e),this.getFloder(this.path)):this.$message.warning("请点击文件夹")},deleteThis:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$api.create.deleteFile(e.path,t);case 3:i=r.sent,i.success&&(e.getFloder(e.path),e.$message.success("删除成功")),i.hasFloder&&e.$message.warning("此文件夹不存在"),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])}))))},editItem:function(t){t=""===t.split("/").slice(-1)[0]?t.split("/").slice(0,-1).join("/"):t,this.getFloder(t),this.path=t},favoriteOperate:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,i,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.id,i=e.favorite,a=i?"取消成功":"收藏成功",t.prev=2,t.next=5,this.$api.create.favorite(r,i);case 5:n=t.sent,n&&this.$message.success(a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),operateFavorite:function(t){this.favorite=t.favorite,console.log(t.projectList),t.projectList.length>0&&this.favoriteOperate(t.projectList[0])},rootDir:function(){this.path="",this.getFloder("/")},refresh:function(){this.path=this.$store.state.project.cwd,this.getFloder(this.path)},importProject:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,i,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.path.split("/").slice(-1)[0],r=this.path,i=this.favorite,console.log(r),t.next=5,this.checkHasProject(r);case 5:if(a=t.sent,!a){t.next=9;break}return this.$message.warning("已拥有此项目"),t.abrupt("return");case 9:return t.prev=9,t.next=12,this.$api.create.importProject({name:e,path:r,favorite:i});case 12:n=t.sent,n&&this.$message.success("导入成功"),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),console.log(t.t0);case 19:case"end":return t.stop()}}),t,this,[[9,16]])})));function e(){return t.apply(this,arguments)}return e}(),checkHasProject:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.create.checkHasProject(e);case 3:return r=t.sent,t.abrupt("return",r.hasProject);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),favoritePath:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.path,t.prev=1,t.next=4,this.$api.create.favoritePath({path:e});case 4:r=t.sent,r&&(this.queryFavoritePath(),this.$message.success("收藏成功")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),queryFavoritePath:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.create.queryFavoritePath();case 3:e=t.sent,e.success&&(this.favoritePathList=e.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),removeFavoritePath:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.path,t.prev=1,t.next=4,this.$api.create.removeFavoritePath(e);case 4:r=t.sent,r.success&&(this.queryFavoritePath(),this.$message.success("删除成功")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),goThisPath:function(t){this.getFloder(t),this.path=t},mkdir:function(){this.floderName="",this.dialogVisible=!0},submitEdit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.path,r=this.floderName,t.prev=1,t.next=4,this.$api.create.mkDir(e,r);case 4:i=t.sent,i.success&&(this.getFloder(e),this.$message.success("创建文件夹成功")),i.hasFloder&&this.$message.warning("此文件夹已存在"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.dialogVisible=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),viewhide:function(t){this.getFloder(this.path,t)}}},b=g,w=(r("2a02"),Object(p["a"])(b,v,d,!1,null,"18458b1f",null)),x=w.exports,k={name:"Create",components:{PageHeader:s["a"],ProjectList:f,Import:x},data:function(){return{activeName:"project",favorriteProjectList:[],notFavorriteProjectList:[],dialogVisible:!1,id:"",floderName:"",currentTabName:"",isSwitchTab:0}},computed:{project:function(){return this.$store.state.project}},watch:{currentTabName:function(){this.isSwitchTab=Math.random([0,1])}},created:function(){this.getProjectList()},methods:{getProjectList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.create.getProjectList();case 3:e=t.sent,r=e.success,i=e.data,r&&(this.favorriteProjectList=i.filter((function(t){return t.favorite})),this.notFavorriteProjectList=i.filter((function(t){return!t.favorite}))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),favorite:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,i,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.id,i=e.favorite,a=i?"取消成功":"收藏成功",t.prev=2,t.next=5,this.$api.create.favorite(r,i);case 5:n=t.sent,n.success&&(this.getProjectList(),this.$message.success(a)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteItem:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.$api.create.deleteItem(e);case 3:i=t.sent,i.success&&(r.getProjectList(),r.$message.success("删除成功")),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),editItem:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.id,i=e.name,this.floderName=i,this.id=r,this.dialogVisible=!0;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),submitEdit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.id,r=this.floderName,t.prev=1,t.next=4,this.$api.create.editItem(e,r);case 4:i=t.sent,i&&(this.getProjectList(),this.$message.success("修改成功")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:return t.prev=11,this.dialogVisible=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}(),openEditor:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.path,t.prev=1,t.next=4,this.$api.create.openEditor(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])})));function e(e){return t.apply(this,arguments)}return e}(),getFloder:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{r=this.$api.create.list(e),this.fileList=r}catch(i){console.log(i)}case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleClick:function(t,e){this.currentTabName=t.name,"project"===t.name&&this.getProjectList()}}},j=k,P=(r("5fe2"),Object(p["a"])(j,i,a,!1,null,null,null));e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-7bedba76.b8e3c45c.js.map