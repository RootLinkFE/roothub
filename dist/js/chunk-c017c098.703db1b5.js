(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c017c098"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"13df":function(t,e,a){},"1dfc":function(t,e,a){"use strict";var n=a("13df"),s=a.n(n);s.a},"75c2":function(t,e,a){},"841c":function(t,e,a){"use strict";var n=a("d784"),s=a("825a"),i=a("1d80"),r=a("129f"),o=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var i=s(t),c=String(this),l=i.lastIndex;r(l,0)||(i.lastIndex=0);var u=o(i,c);return r(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},"86ef":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Input",{staticStyle:{width:"100%",marginBottom:"20px"},attrs:{placeholder:"输入关键词搜索"},on:{"on-enter":t.searchHandler},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}},[a("Icon",{attrs:{slot:"suffix",type:"ios-search"},slot:"suffix"})],1),a("MyFilter",{on:{change:t.filterHandler},model:{value:t.search.tag,callback:function(e){t.$set(t.search,"tag",e)},expression:"search.tag"}}),a("div",{staticClass:"blocks"},[t.blocks.length?a("Row",{attrs:{gutter:24}},t._l(t.blocks,(function(e,n){return a("Col",{key:n,attrs:{span:"6"}},[a("block-item",{attrs:{materialsName:t.materialsName,info:e}})],1)})),1):a("Empty")],1),a("Page",{staticClass:"pages",attrs:{"show-total":!0,current:t.search.page,total:t.total,"page-size":t.search.pageSize},on:{"on-change":t.pageChange}})],1)},s=[],i=(a("b0c0"),a("ac1f"),a("841c"),a("365c")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-item"},[a("div",{staticClass:"img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.info.screenshot,expression:"info.screenshot"}],attrs:{title:"查看大图"},on:{click:t.previewImg}})]),a("div",{staticClass:"name"},[t._v(t._s(t.info.name))]),a("div",{staticClass:"desc"},[t._v(t._s(t.info.description))]),a("div",{staticClass:"options"},[a("a",{on:{click:function(e){return t.openSource(t.info.sourceCode)}}},[t._v("源码")]),t._v("/ "),t.info.previewUrl?a("a",{attrs:{href:t.info.previewUrl,target:"_blank"}},[t._v("Demo")]):t._e(),t._v("/ "),a("a",{on:{click:function(e){return t.download(t.info)}}},[t._v("下载")])])])},o=[],c=(a("d81d"),{name:"BlockItem",data:function(){return{colors:["primary","success","warning","error"]}},props:{info:{type:Object,default:function(){return{}}},materialsName:{type:String,required:!0}},methods:{previewImg:function(){var t=this,e=this.info.screenshot;this.$Modal.info({title:"大图预览",width:"80%",closable:!0,okText:"",render:function(a){var n=t.info.tags||[],s=n.map((function(e){return a("Tag",{props:{color:t.colors[Math.floor(4*Math.random())]}},e)}));return a("div",["标签：",s,a("div",{class:"preview-img"},[a("img",{attrs:{src:e}})])])}})},openSource:function(t){window.open(t)},download:function(t){var e=this;i["a"].get("/blocks/".concat(t.name),{params:{materialsName:this.materialsName,blockPath:t.downloadPath}}).then((function(t){e.$Notice.success({title:"提示",desc:"下载区块位于".concat(t.downloadPath,"，可在配置中修改下载路径")})}))}}}),l=c,u=(a("c2e6"),a("2877")),h=Object(u["a"])(l,r,o,!1,null,null,null),f=h.exports,m={name:"Blocks",data:function(){return{materialsName:this.$route.query.materialsName,blocks:[],search:{materialsName:this.$route.query.materialsName,name:"",category:"全部",page:1,pageSize:24},total:0}},methods:{filterHandler:function(t){this.initParams(this.$route),this.search.category=t,this.getList()},searchHandler:function(){this.search.page=1,this.search.category="全部",this.getList()},getList:function(){var t=this;i["a"].get("/blocks",{params:this.search}).then((function(e){t.blocks=e.list,t.total=e.total}))},initParams:function(t){this.materialsName=t.query.materialsName,this.search.name="",this.search.category="全部",this.search.materialsName=t.query.materialsName,this.search.page=1,this.total=0},pageChange:function(t){this.search.page=t,this.getList()}},components:{BlockItem:f},watch:{$route:function(t){this.initParams(t),this.getList()}},mounted:function(){this.getList()}},d=m,p=(a("1dfc"),Object(u["a"])(d,n,s,!1,null,"4de77d0e",null));e["default"]=p.exports},c2e6:function(t,e,a){"use strict";var n=a("75c2"),s=a.n(n);s.a},d81d:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").map,i=a("1dde"),r=a("ae40"),o=i("map"),c=r("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-c017c098.703db1b5.js.map