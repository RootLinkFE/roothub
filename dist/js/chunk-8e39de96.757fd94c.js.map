{"version":3,"sources":["webpack:///./src/pages/materials/index.vue?2997","webpack:///src/pages/materials/index.vue","webpack:///./src/pages/materials/index.vue?ba5d","webpack:///./src/pages/materials/index.vue","webpack:///./src/pages/materials/index.vue?ad64","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","model","value","callback","$$v","materialsName","expression","_l","item","key","_v","_s","label","on","sync","modal","ref","form","ruleValidate","slot","$set","$event","submit","staticRenderFns","component","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-8e39de96.757fd94c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"materials\"},[_c('DashboardHeader',{attrs:{\"title\":\"物料\"}},[_c('div',{staticClass:\"h-right\"},[_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.materialsName),callback:function ($$v) {_vm.materialsName=$$v},expression:\"materialsName\"}},_vm._l((_vm.materials),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sync}},[_vm._v(\"同步物料\")])],1)],1)]),_c('PageWrap',[_c('router-view')],1),_c('Modal',{attrs:{\"title\":\"自定义物料\"},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-position\":\"top\",\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"prop\":\"alias\"}},[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" 物料名称 \")]),_c('Input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", $$v)},expression:\"form.alias\"}})],1),_c('FormItem',{attrs:{\"prop\":\"gitPath\"}},[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" 物料地址 \")]),_c('Input',{attrs:{\"placeholder\":\"ssh地址，例如git@git.souche-inc.com:loan/xxx.git\"},model:{value:(_vm.form.gitPath),callback:function ($$v) {_vm.$set(_vm.form, \"gitPath\", $$v)},expression:\"form.gitPath\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":function($event){_vm.modal = false}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"materials\">\n        <DashboardHeader title=\"物料\">\n            <div class=\"h-right\">\n                <Select v-model=\"materialsName\" style=\"width:200px\">\n                    <Option v-for=\"item in materials\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                </Select>\n                <div>\n                    <Button type=\"primary\" @click=\"sync\">同步物料</Button>\n                    <!-- <Button type=\"default\" @click=\"modal = true\" class=\"ml20\">自定义物料</Button> -->\n                </div>\n            </div>\n        </DashboardHeader>\n        <PageWrap>\n            <router-view></router-view>\n        </PageWrap>\n        <Modal\n        v-model=\"modal\"\n            title=\"自定义物料\">\n            <Form :model=\"form\" ref=\"form\" label-position=\"top\" :rules=\"ruleValidate\">\n                <FormItem prop=\"alias\">\n                    <label slot=\"label\">\n                        物料名称\n                    </label>\n                    <Input v-model=\"form.alias\" placeholder=\"\"></Input>\n                </FormItem>\n                <FormItem prop=\"gitPath\">\n                    <label slot=\"label\">\n                        物料地址\n                    </label>\n                    <Input v-model=\"form.gitPath\" placeholder=\"ssh地址，例如git@git.souche-inc.com:loan/xxx.git\"></Input>\n                </FormItem>\n            </Form>\n            <div slot=\"footer\">\n                <Button @click=\"modal = false\">取消</Button>\n                <Button type=\"primary\" @click=\"submit\">确定</Button>\n            </div>\n        </Modal>\n    </div>\n</template>\n\n<script>\nimport Api from '@/api';\n\nexport default {\n    name: 'Materials',\n    data () {\n        return {\n            materialsName: '',\n            form: {\n                name: '',\n                alias: '',\n                gitPath: ''\n            },\n            ruleValidate: {\n                alias: [\n                    { required: true, message: '请填写物料名称' }\n                ],\n                gitPath: [\n                    { required: true, message: '请填写物料地址' }\n                ]\n            },\n            modal: false\n        };\n    },\n    methods: {\n        sync () {\n            this.$Spin.show({\n                render: (h) => {\n                    return h('div', [\n                        h('Icon', {\n                            'class': 'demo-spin-icon-load',\n                            props: {\n                                type: 'ios-loading',\n                                size: 18\n                            }\n                        }),\n                        h('div', '同步中')\n                    ])\n                }\n            });\n            Api.get('/materials/sync').then(() => {\n                this.$Spin.hide();\n                this.$Notice.success({\n                    title: '提示',\n                    desc: '同步成功',\n                    duration: 1,\n                    onClose () {\n                        window.location.reload();\n                    }\n                });\n            });\n        },\n        submit () {\n            this.$refs.form.validate((valid) => {\n                if (valid) {\n                    this.$Message.success('Success!');\n                } else {\n                    this.$Message.error('Fail!');\n                }\n            })\n        }\n    },\n    computed: {\n        materials () {\n            return this.$store.state.materials.map((item) => {\n                return {\n                    label: item.alias,\n                    value: item.name\n                };\n            });\n        }\n    },\n    watch: {\n        materialsName: function(val) {\n            this.$router.replace({\n                name: 'blocks',\n                query: {\n                    materialsName: val\n                }\n            })\n        }\n    },\n    mounted () {\n        this.$store.dispatch('getMaterials').then(res => {\n            this.materialsName = res[0].name;\n        });\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-row {\n    margin-bottom: 24px;\n}\n.h-right {\n    display: flex;\n    margin-left: 40px;\n    justify-content: space-between;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=66876a4a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=66876a4a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66876a4a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--15-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=66876a4a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--15-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=66876a4a&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}