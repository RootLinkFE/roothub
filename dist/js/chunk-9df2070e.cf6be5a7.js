(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9df2070e"],{1616:function(t,a,e){},"432e":function(t,a,e){},c373:function(t,a,e){"use strict";var o=e("432e"),s=e.n(o);s.a},d6aa:function(t,a,e){"use strict";var o=e("1616"),s=e.n(o);s.a},ff38:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("DashboardHeader",{attrs:{title:"设置"}}),e("PageWrap",[e("div",{staticClass:"section"},[e("h3",[t._v("基础设置")]),e("MyCard",{staticClass:"setting"},[e("Form",{attrs:{model:t.form,"label-width":100}},[e("FormItem",[e("label",{attrs:{slot:"label"},slot:"label"},[t._v(" 下载目录 "),e("Tooltip",{attrs:{content:"工作目录根目录",placement:"top"}},[e("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),e("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"默认路径为工作目录下的.pandora"},model:{value:t.form.downloadPath,callback:function(a){t.$set(t.form,"downloadPath",a)},expression:"form.downloadPath"}})],1),e("FormItem",{attrs:{label:"包管理器"}},[e("RadioGroup",{model:{value:t.form.nodeTool,callback:function(a){t.$set(t.form,"nodeTool",a)},expression:"form.nodeTool"}},t._l(t.nodeTools,(function(a,o){return e("Radio",{key:o,attrs:{label:a.label}},[t._v(t._s(a.name))])})),1)],1),e("FormItem",[e("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.update}},[t._v("保存")])],1)],1)],1)],1),e("MaterialsManage")],1)],1)},s=[],i=e("365c"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"section"},[e("h3",[t._v("官方推荐物料")]),t._l(t.recommendMaterials,(function(a,o){return e("MyCard",{key:o,staticClass:"material-item"},[e("div",{staticClass:"left"},[e("FrameworkIcon",{attrs:{type:a.type}}),e("div",{staticClass:"info"},[e("div",[t._v(t._s(a.alias))]),e("div",{staticClass:"desc"},[t._v(t._s(a.description||"暂无描述"))])])],1),e("div",{staticClass:"right"},[e("iSwitch",{on:{"on-change":function(e){return t.changeHandler("recommendMaterials",o,a)}},model:{value:a.active,callback:function(e){t.$set(a,"active",e)},expression:"item.active"}})],1)])}))],2),e("div",{staticClass:"section"},[e("h3",{staticClass:"flex"},[e("span",[t._v("自定义物料")]),e("Icon",{staticStyle:{cursor:"pointer"},attrs:{size:"20",type:"ios-add-circle"},on:{click:t.addMaterial}})],1),t._l(t.customMaterials,(function(a,o){return e("MyCard",{key:o,staticClass:"material-item"},[e("div",{staticClass:"left"},[e("FrameworkIcon",{attrs:{type:a.type}}),e("div",{staticClass:"info"},[e("div",[t._v(t._s(a.alias))]),e("div",{staticClass:"desc"},[t._v(t._s(a.description||"暂无描述"))])])],1),e("div",{staticClass:"right"},[e("Icon",{attrs:{type:"md-create"},on:{click:function(e){return t.editMaterial(o,a)}}}),e("Icon",{attrs:{type:"md-trash"},on:{click:function(a){return t.delHandler(o)}}}),e("iSwitch",{on:{"on-change":function(e){return t.changeHandler(o,a)}},model:{value:a.active,callback:function(e){t.$set(a,"active",e)},expression:"item.active"}})],1)])}))],2),e("Modal",{attrs:{title:"自定义物料"},model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[e("Form",{ref:"form",attrs:{model:t.form,"label-position":"top",rules:t.ruleValidate}},[e("FormItem",{attrs:{prop:"type"}},[e("label",{attrs:{slot:"label"},slot:"label"},[t._v(" 物料类型 ")]),e("RadioGroup",{model:{value:t.form.type,callback:function(a){t.$set(t.form,"type",a)},expression:"form.type"}},[e("Radio",{attrs:{label:"React"}},[t._v("React")]),e("Radio",{attrs:{label:"Vue"}},[t._v("Vue")]),e("Radio",{attrs:{label:"Angular"}},[t._v("Angular")]),e("Radio",{attrs:{label:"Bootstrap"}},[t._v("Bootstrap")])],1)],1),e("FormItem",{attrs:{prop:"alias"}},[e("label",{attrs:{slot:"label"},slot:"label"},[t._v(" 物料名称 ")]),e("Input",{model:{value:t.form.alias,callback:function(a){t.$set(t.form,"alias",a)},expression:"form.alias"}})],1),e("FormItem",{attrs:{prop:"gitPath"}},[e("label",{attrs:{slot:"label"},slot:"label"},[t._v(" 物料地址 ")]),e("Input",{attrs:{placeholder:"ssh地址，例如git@git.souche-inc.com:loan/xxx.git"},model:{value:t.form.gitPath,callback:function(a){t.$set(t.form,"gitPath",a)},expression:"form.gitPath"}})],1),e("FormItem",[e("label",{attrs:{slot:"label"},slot:"label"},[t._v(" 描述 ")]),e("Input",{model:{value:t.form.description,callback:function(a){t.$set(t.form,"description",a)},expression:"form.description"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",[e("a",{attrs:{href:"http://f2e.souche.com/projects/loan/magic-park/docs/guide/custom_material.html",target:"_blank"}},[t._v("查看帮助")])]),e("Button",{on:{click:function(a){t.modal=!1}}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)],1)],1)},n=[],r=(e("a4d3"),e("e01a"),e("b0c0"),e("ac1f"),e("5319"),e("1276"),{name:"MaterialsManage",data:function(){return{recommendMaterials:[],customMaterials:[],form:{type:"",name:"",alias:"",gitPath:"",description:"",active:!0},formType:"add",updateIndex:null,ruleValidate:{type:[{required:!0,message:"请选择物料类型"}],alias:[{required:!0,message:"请填写物料名称"}],gitPath:[{required:!0,message:"请填写物料地址"}]},modal:!1}},props:{type:String,editable:{type:Boolean,default:!0}},methods:{changeHandler:function(t,a,e){var o=this;i["a"].patch("/materials/".concat(a),{type:t,update:e}).then((function(){o.$Notice.success({title:"提示",desc:"设置成功",duration:1})}))},delHandler:function(t){var a=this;this.$Modal.confirm({title:"提示",content:"确定要删除吗？",onOk:function(){i["a"].delete("/materials/".concat(t)).then((function(){a.getMaterials(),a.$Notice.success({title:"提示",desc:"删除成功",duration:1})}))}})},getMaterials:function(){var t=this;this.$store.dispatch("getMaterials").then((function(a){t.recommendMaterials=a.recommendMaterials,t.customMaterials=a.customMaterials}))},addMaterial:function(){this.updateIndex=null,this.formType="add",this.$refs.form.resetFields(),this.form.description="",this.form.active=!0,this.modal=!0},editMaterial:function(t,a){this.updateIndex=t,this.formType="edit",this.form=Object.assign({},a),this.modal=!0},submit:function(){var t=this;this.$refs.form.validate((function(a){if(a){var e=t.form.gitPath.split("/");t.form.name=e[e.length-1].replace(".git",""),"add"===t.formType?(console.log(t.form),i["a"].post("/materials/custom",t.form).then((function(a){t.modal=!1,t.getMaterials(),t.$Notice.success({title:"提示",desc:"添加成功",duration:1})}))):(console.log(t.form),i["a"].patch("/materials/".concat(t.updateIndex),{update:t.form}).then((function(a){t.modal=!1,t.getMaterials(),t.$Notice.success({title:"提示",desc:"修改成功",duration:1})})))}}))}},mounted:function(){this.getMaterials()}}),c=r,d=(e("c373"),e("2877")),m=Object(d["a"])(c,l,n,!1,null,null,null),u=m.exports,f={name:"Setting",data:function(){return{form:{downloadPath:"",nodeTool:""},nodeTools:[{label:"yarn",name:"yarn"},{label:"npm",name:"npm"}]}},methods:{update:function(){var t=this;i["a"].patch("/setting",this.form).then((function(){t.$Message.success("修改成功")}))}},components:{MaterialsManage:u},mounted:function(){var t=this;i["a"].get("/setting").then((function(a){t.form=a}))}},p=f,h=(e("d6aa"),Object(d["a"])(p,o,s,!1,null,"0898b6f6",null));a["default"]=h.exports}}]);
//# sourceMappingURL=chunk-9df2070e.cf6be5a7.js.map